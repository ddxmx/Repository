# Kubernetes

# 一、k8s介绍

- 单体应用程序

  单体应用程序由很多的组件组成，组件之间相互耦合，缺乏严格的边界。随着系统复杂性的提升，单体应用的质量也逐步恶化。
  
  随着不断增长的系统负载，应用需要进行扩展。
  
  - 垂直扩展：垂直扩展成本越来越高，而且通常由瓶颈
  - 水平扩展：需要对单体应用进行较大改动，而且存在不可水平扩展的情况

- 微服务

  将大型单体应用程序分解成小的、独立运行的组件。组件之间相互解耦，独立开发、部署、升级、伸缩。

  微服务之间通过接口的方式进行通信。

  微服务的扩展相对简单，只需要扩容受限的组件，对于其他组件可以不进行扩容。

  随着组件的增加，微服务的部署也带来了一些问题。

  - 配置工作变得复杂和繁重
  
  - 环境差异导致部署经常出现问题
  
    持续交付的devOps
  
    - 通过云眼配置中心的方式来管理配置
  
    - 通过IAC的方式规范部署的步骤，做到开发、测试、生产部署方式的统一

即使通过以上的方式，同样存在问题。

由于时间的推移，操作系统版本、系统配置、网络环境也可能发生变化导致问题的出现。而运维在生产环境上不得不关注这些可能存在的变化是否会影响应用的正常运行。 

部署方式的改变

- 物理机

- VM

  当微服务组件变小，并且数量增长时，VM的方式将导致资源的浪费和运维工作的增加。

  一个组件不再适合独占一个VM。多个组件部署在一个VM，造成组件之间造成灾难蔓延。

- k8s

  组件的增加，导致硬件资源的利用和应用的监管越来越复杂。

